REM NOTE THESE ARE DESIGNED TO BR RUN FROM A WINDOWS MSDOS BATCH FILE!!!!! WILL NOT WORK NATIVELY IN LINUX
REM REDUCE FILESIZE AND ADD CHANNEL
for /r "F:\Satellite Imagery\goes16\fd\NOMAP\" %%a in (*.jpg) do "C:\Program Files\ImageMagick-7.0.9-Q16\magick.exe"  mogrify -path ../TILED/FCTILED -filter Triangle -define filter:support=2 -thumbnail 400 -unsharp 0.25x0.25+8+0.065 -dither None -posterize 136 -quality 82 -define jpeg:fancy-upsampling=off -define png:compression-filter=5 -define png:compression-level=9 -define png:compression-strategy=1 -define png:exclude-chunk=all -interlace none -colorspace sRGB -strip  -gravity south -stroke none -pointsize 24 -fill white -annotate +0+0 Full_Color "%%~a"
for /r "F:\Satellite Imagery\goes16\fd\ch02\" %%a in (*.jpg) do "C:\Program Files\ImageMagick-7.0.9-Q16\magick.exe"  mogrify -path ../TILED/CH02 -filter Triangle -define filter:support=2 -thumbnail 400 -unsharp 0.25x0.25+8+0.065 -dither None -posterize 136 -quality 82 -define jpeg:fancy-upsampling=off -define png:compression-filter=5 -define png:compression-level=9 -define png:compression-strategy=1 -define png:exclude-chunk=all -interlace none -colorspace sRGB -strip  -gravity south -stroke none -pointsize 24 -fill white -annotate +0+0 CHANNEL_02 "%%~a"
for /r "F:\Satellite Imagery\goes16\fd\ch07_enhanced\" %%a in (*.jpg) do "C:\Program Files\ImageMagick-7.0.9-Q16\magick.exe"  mogrify -path ../TILED/CH07 -filter Triangle -define filter:support=2 -thumbnail 400 -unsharp 0.25x0.25+8+0.065 -dither None -posterize 136 -quality 82 -define jpeg:fancy-upsampling=off -define png:compression-filter=5 -define png:compression-level=9 -define png:compression-strategy=1 -define png:exclude-chunk=all -interlace none -colorspace sRGB -strip  -gravity south -stroke none -pointsize 24 -fill white -annotate +0+0 CHANNEL_07 "%%~a"
for /r "F:\Satellite Imagery\goes16\fd\ch08_enhanced\" %%a in (*.jpg) do "C:\Program Files\ImageMagick-7.0.9-Q16\magick.exe"  mogrify -path ../TILED/CH08 -filter Triangle -define filter:support=2 -thumbnail 400 -unsharp 0.25x0.25+8+0.065 -dither None -posterize 136 -quality 82 -define jpeg:fancy-upsampling=off -define png:compression-filter=5 -define png:compression-level=9 -define png:compression-strategy=1 -define png:exclude-chunk=all -interlace none -colorspace sRGB -strip  -gravity south -stroke none -pointsize 24 -fill white -annotate +0+0 CHANNEL_08 "%%~a"
for /r "F:\Satellite Imagery\goes16\fd\ch09_enhanced\" %%a in (*.jpg) do "C:\Program Files\ImageMagick-7.0.9-Q16\magick.exe"  mogrify -path ../TILED/CH09 -filter Triangle -define filter:support=2 -thumbnail 400 -unsharp 0.25x0.25+8+0.065 -dither None -posterize 136 -quality 82 -define jpeg:fancy-upsampling=off -define png:compression-filter=5 -define png:compression-level=9 -define png:compression-strategy=1 -define png:exclude-chunk=all -interlace none -colorspace sRGB -strip  -gravity south -stroke none -pointsize 24 -fill white -annotate +0+0 CHANNEL_09 "%%~a"
for /r "F:\Satellite Imagery\goes16\fd\ch13_enhanced\" %%a in (*.jpg) do "C:\Program Files\ImageMagick-7.0.9-Q16\magick.exe"  mogrify -path ../TILED/CH13 -filter Triangle -define filter:support=2 -thumbnail 400 -unsharp 0.25x0.25+8+0.065 -dither None -posterize 136 -quality 82 -define jpeg:fancy-upsampling=off -define png:compression-filter=5 -define png:compression-level=9 -define png:compression-strategy=1 -define png:exclude-chunk=all -interlace none -colorspace sRGB -strip  -gravity south -stroke none -pointsize 24 -fill white -annotate +0+0 CHANNEL_13 "%%~a"
for /r "F:\Satellite Imagery\goes16\fd\ch14_enhanced\" %%a in (*.jpg) do "C:\Program Files\ImageMagick-7.0.9-Q16\magick.exe"  mogrify -path ../TILED/CH14 -filter Triangle -define filter:support=2 -thumbnail 400 -unsharp 0.25x0.25+8+0.065 -dither None -posterize 136 -quality 82 -define jpeg:fancy-upsampling=off -define png:compression-filter=5 -define png:compression-level=9 -define png:compression-strategy=1 -define png:exclude-chunk=all -interlace none -colorspace sRGB -strip  -gravity south -stroke none -pointsize 24 -fill white -annotate +0+0 CHANNEL_14 "%%~a"
for /r "F:\Satellite Imagery\goes16\fd\ch15\" %%a in (*.jpg) do "C:\Program Files\ImageMagick-7.0.9-Q16\magick.exe"  mogrify -path ../TILED/CH15 -filter Triangle -define filter:support=2 -thumbnail 400 -unsharp 0.25x0.25+8+0.065 -dither None -posterize 136 -quality 82 -define jpeg:fancy-upsampling=off -define png:compression-filter=5 -define png:compression-level=9 -define png:compression-strategy=1 -define png:exclude-chunk=all -interlace none -colorspace sRGB -strip  -gravity south -stroke none -pointsize 24 -fill white -annotate +0+0 CHANNEL_15 "%%~a"
for /r "F:\Satellite Imagery\goes16\fd\ch15_enhanced\" %%a in (*.jpg) do "C:\Program Files\ImageMagick-7.0.9-Q16\magick.exe"  mogrify -path ../TILED/CH15E -filter Triangle -define filter:support=2 -thumbnail 400 -unsharp 0.25x0.25+8+0.065 -dither None -posterize 136 -quality 82 -define jpeg:fancy-upsampling=off -define png:compression-filter=5 -define png:compression-level=9 -define png:compression-strategy=1 -define png:exclude-chunk=all -interlace none -colorspace sRGB -strip  -gravity south -stroke none -pointsize 24 -fill white -annotate +0+0 CHANNEL_15_ENHANCED "%%~a"

echo DO YOU WANT TO EDIT ANY FILES????
pause


REM CREATE All the  GIFs
magick convert -loop 0 -delay 15 "F:\TILED\FCTILED\*.jpg" "F:/TILED/FCout.gif"
magick convert -loop 0 -delay 15 "F:\TILED\CH02\*.jpg" "F:/TILED/CH02out.gif"
magick convert -loop 0 -delay 15 "F:\TILED\CH07\*.jpg" "F:/TILED/CH07out.gif"
magick convert -loop 0 -delay 15 "F:\TILED\CH08\*.jpg" "F:/TILED/CH08out.gif"
magick convert -loop 0 -delay 15 "F:\TILED\CH09\*.jpg" "F:/TILED/CH09out.gif"
magick convert -loop 0 -delay 15 "F:\TILED\CH13\*.jpg" "F:/TILED/CH13out.gif"
magick convert -loop 0 -delay 15 "F:\TILED\CH14\*.jpg" "F:/TILED/CH14out.gif"
magick convert -loop 0 -delay 15 "F:\TILED\CH15\*.jpg" "F:/TILED/CH15out.gif"
magick convert -loop 0 -delay 15 "F:\TILED\CH15E\*.jpg" "F:/TILED/CH15Eout.gif"


cd F:/TILED/
ffmpeg -i "F:/TILED/FCout.gif" -filter "minterpolate='mi_mode=blend'" -c:v libx264 -pix_fmt yuv420p F:/TILED/FCout.mp4
ffmpeg -i "F:/TILED/CH02out.gif" -filter "minterpolate='mi_mode=blend'" -c:v libx264 -pix_fmt yuv420p F:/TILED/CH02out.mp4
ffmpeg -i "F:/TILED/CH07out.gif" -filter "minterpolate='mi_mode=blend'" -c:v libx264 -pix_fmt yuv420p F:/TILED/CH07out.mp4
ffmpeg -i "F:/TILED/CH08out.gif" -filter "minterpolate='mi_mode=blend'" -c:v libx264 -pix_fmt yuv420p F:/TILED/CH08out.mp4
ffmpeg -i "F:/TILED/CH09out.gif" -filter "minterpolate='mi_mode=blend'" -c:v libx264 -pix_fmt yuv420p F:/TILED/CH09out.mp4
ffmpeg -i "F:/TILED/CH13out.gif" -filter "minterpolate='mi_mode=blend'" -c:v libx264 -pix_fmt yuv420p F:/TILED/CH13out.mp4
ffmpeg -i "F:/TILED/CH14out.gif" -filter "minterpolate='mi_mode=blend'" -c:v libx264 -pix_fmt yuv420p F:/TILED/CH14out.mp4
ffmpeg -i "F:/TILED/CH15out.gif" -filter "minterpolate='mi_mode=blend'" -c:v libx264 -pix_fmt yuv420p F:/TILED/CH15out.mp4
ffmpeg -i "F:/TILED/CH15Eout.gif" -filter "minterpolate='mi_mode=blend'" -c:v libx264 -pix_fmt yuv420p F:/TILED/CH15eout.mp4


cd F:/TILED/
REM CREATES A GIF
ffmpeg -i FCout.mp4 -i CH02out.mp4 -i CH07out.mp4 -i CH08out.mp4 -i CH09out.mp4 -i CH13out.mp4 -i CH14out.mp4 -i CH15out.mp4 -i CH15Eout.mp4 -filter_complex "[0:v] setpts=PTS-STARTPTS, scale=600x600 [a0]; [1:v] setpts=PTS-STARTPTS, scale=600x600 [a1]; [2:v] setpts=PTS-STARTPTS, scale=600x600 [a2]; [3:v] setpts=PTS-STARTPTS, scale=600x600 [a3]; [4:v] setpts=PTS-STARTPTS, scale=600x600 [a4]; [5:v] setpts=PTS-STARTPTS, scale=600x600 [a5]; [6:v] setpts=PTS-STARTPTS, scale=600x600 [a6]; [7:v] setpts=PTS-STARTPTS, scale=600x600 [a7]; [8:v] setpts=PTS-STARTPTS, scale=600x600 [a8]; [a0][a1][a2][a3][a4][a5][a6][a7][a8]xstack=inputs=9:layout=0_0|w0_0|w0+w1_0|0_h0|w0_h0|w0+w1_h0|0_h0+h1|w0_h0+h1|w0+w1_h0+h1[out]" -map "[out]" -c:v libx264 -pix_fmt yuv420p "F:/TILED/MP4tiledoutput.mp4"
REM CREATES AN INTERPOLATED MP4
ffmpeg -i FCout.gif -i CH02out.gif -i CH07out.gif -i CH08out.gif -i CH09out.gif -i CH13out.gif -i CH14out.gif -i CH15out.gif -i CH15Eout.gif -filter_complex "[0:v] setpts=PTS-STARTPTS, scale=600x600 [a0]; [1:v] setpts=PTS-STARTPTS, scale=600x600 [a1]; [2:v] setpts=PTS-STARTPTS, scale=600x600 [a2]; [3:v] setpts=PTS-STARTPTS, scale=600x600 [a3]; [4:v] setpts=PTS-STARTPTS, scale=600x600 [a4]; [5:v] setpts=PTS-STARTPTS, scale=600x600 [a5]; [6:v] setpts=PTS-STARTPTS, scale=600x600 [a6]; [7:v] setpts=PTS-STARTPTS, scale=600x600 [a7]; [8:v] setpts=PTS-STARTPTS, scale=600x600 [a8]; [a0][a1][a2][a3][a4][a5][a6][a7][a8]xstack=inputs=9:layout=0_0|w0_0|w0+w1_0|0_h0|w0_h0|w0+w1_h0|0_h0+h1|w0_h0+h1|w0+w1_h0+h1[out]" -map "[out]" -c:v libx264 -pix_fmt yuv420p "F:/TILED/tiledoutput.mp4"

pause
